<main class="container">
  <div class="row mb-4">
    <div class="col-12">
      <h1>Dog Breeds Directory</h1>
      <table id="breeds-table" class="table">
        <thead>
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Group</th>
            <th>Origin</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @breeds.each do |breed| %>
            <tr>
              <td>
                <% if breed.dog_images.first %>
                  <%= image_tag breed.dog_images.first.image_url, class: "img-thumbnail", style: "max-width: 100px" %>
                <% end %>
              </td>
              <td><%= breed.name %></td>
              <td><%= breed.group %></td>
              <td><%= breed.origin %></td>
              <td>
                <%= link_to "Learn More", breed_path(breed), class: "btn btn-primary btn-sm" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</main>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    $('#breeds-table').DataTable({
      pageLength: 12,
      responsive: true,
      language: {
        search: "Quick Search:",
        lengthMenu: "Show _MENU_ breeds per page",
        info: "Showing _START_ to _END_ of _TOTAL_ breeds"
      },
      order: [[1, 'asc']], // Sort by name by default
      columnDefs: [
        { orderable: false, targets: [0, 4] } // Disable sorting for image and actions columns
      ]
    });
  });
</script>
